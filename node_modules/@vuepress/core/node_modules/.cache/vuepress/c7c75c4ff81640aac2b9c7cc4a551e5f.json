{"remainingRequest":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\vuepress-theme-vt\\plugins\\fulltext-search\\services\\flexsearchSvc.js","dependencies":[{"path":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\vuepress-theme-vt\\plugins\\fulltext-search\\services\\flexsearchSvc.js","mtime":499162500000},{"path":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtbGFzdC1pbmRleC5qcyI7CmltcG9ydCBGbGV4c2VhcmNoIGZyb20gImZsZXhzZWFyY2giOyAvLyBVc2Ugd2hlbiBmbGV4U2VhcmNoIHYwLjcuMCB3aWxsIGJlIGF2YWlsYWJsZQovLyBpbXBvcnQgY3lyaWxsaWNDaGFyc2V0IGZyb20gJ2ZsZXhzZWFyY2gvZGlzdC9sYW5nL2N5cmlsbGljL2RlZmF1bHQubWluLmpzJwovLyBpbXBvcnQgY2prQ2hhcnNldCBmcm9tICdmbGV4c2VhcmNoL2Rpc3QvbGFuZy9jamsvZGVmYXVsdC5taW4uanMnCgppbXBvcnQgXyBmcm9tICJsb2Rhc2giOwpsZXQgaW5kZXggPSBudWxsOwpsZXQgY3lyaWxsaWNJbmRleCA9IG51bGw7CmxldCBjamtJbmRleCA9IG51bGw7CmxldCBwYWdlc0J5UGF0aCA9IG51bGw7CmNvbnN0IGNqa1JlZ2V4ID0gL1tcdTMxMzEtXHUzMTRlfFx1MzE0Zi1cdTMxNjN8XHVhYzAwLVx1ZDdhM118W1x1NEUwMC1cdTlGQ0NcdTM0MDAtXHU0REI1XHVGQTBFXHVGQTBGXHVGQTExXHVGQTEzXHVGQTE0XHVGQTFGXHVGQTIxXHVGQTIzXHVGQTI0XHVGQTI3LVx1RkEyOV18W1x1ZDg0MC1cdWQ4NjhdW1x1ZGMwMC1cdWRmZmZdfFx1ZDg2OVtcdWRjMDAtXHVkZWQ2XHVkZjAwLVx1ZGZmZl18W1x1ZDg2YS1cdWQ4NmNdW1x1ZGMwMC1cdWRmZmZdfFx1ZDg2ZFtcdWRjMDAtXHVkZjM0XHVkZjQwLVx1ZGZmZl18XHVkODZlW1x1ZGMwMC1cdWRjMWRdfFtcdTMwNDEtXHUzMDk2XXxbXHUzMEExLVx1MzBGQV0vZ2l1OwpleHBvcnQgZGVmYXVsdCB7CiAgYnVpbGRJbmRleChhbGxQYWdlcywgb3B0aW9ucykgewogICAgY29uc3QgcGFnZXMgPSBhbGxQYWdlcy5maWx0ZXIocCA9PiAhcC5mcm9udG1hdHRlciB8fCBwLmZyb250bWF0dGVyLnNlYXJjaCAhPT0gZmFsc2UpOwogICAgY29uc3QgaW5kZXhTZXR0aW5ncyA9IHsKICAgICAgZW5jb2RlOiBvcHRpb25zLmVuY29kZSB8fCAic2ltcGxlIiwKICAgICAgdG9rZW5pemU6IG9wdGlvbnMudG9rZW5pemUgfHwgImZvcndhcmQiLAogICAgICBzcGxpdDogb3B0aW9ucy5zcGxpdCB8fCAvXFcrLywKICAgICAgYXN5bmM6IHRydWUsCiAgICAgIGRvYzogewogICAgICAgIGlkOiAia2V5IiwKICAgICAgICAvLyBoZXJlIHlvdSBjaG9vc2UgdGhlIGZpZWxkcyB5b3Ugd2FudCB0byBpbmRleC4KICAgICAgICAvLyBmb3IgbWUgSSB3aWxsIHNlYXJjaCBpbiB0aGUgdGl0bGUgYW5kIHRoZSBjb250ZW50IG9mIGVhY2ggcGFnZS4KICAgICAgICAvLyBvZiBjb3Vyc2UgSSBzdHJpcHBlZCB0aGUgY29udGVudCBiZWZvcmUgc28gSSB1c2UgdGhlIHBsYWluIHRleHQgY29udGVudCBub3QgdGhlIG1hcmtkb3duIHRleHQKICAgICAgICBmaWVsZDogWyJ0aXRsZSIsICJoZWFkZXJzU3RyIiwgImNvbnRlbnQiXQogICAgICB9CiAgICB9OwogICAgaW5kZXggPSBuZXcgRmxleHNlYXJjaChpbmRleFNldHRpbmdzKTsKICAgIGluZGV4LmFkZChwYWdlcyk7CiAgICBjb25zdCBjeXJpbGxpY1BhZ2VzID0gcGFnZXMuZmlsdGVyKHAgPT4gcC5jaGFyc2V0cy5jeXJpbGxpYyk7CiAgICBjb25zdCBjamtQYWdlcyA9IHBhZ2VzLmZpbHRlcihwID0+IHAuY2hhcnNldHMuY2prKTsKCiAgICBpZiAoY3lyaWxsaWNQYWdlcy5sZW5ndGgpIHsKICAgICAgY3lyaWxsaWNJbmRleCA9IG5ldyBGbGV4c2VhcmNoKHsgLi4uaW5kZXhTZXR0aW5ncywKICAgICAgICBlbmNvZGU6ICJpY2FzZSIsCiAgICAgICAgc3BsaXQ6IC9ccysvLAogICAgICAgIHRva2VuaXplOiAiZm9yd2FyZCIKICAgICAgfSk7CiAgICAgIGN5cmlsbGljSW5kZXguYWRkKGN5cmlsbGljUGFnZXMpOwogICAgfQoKICAgIGlmIChjamtQYWdlcy5sZW5ndGgpIHsKICAgICAgY2prSW5kZXggPSBuZXcgRmxleHNlYXJjaCh7IC4uLmluZGV4U2V0dGluZ3MsCiAgICAgICAgZW5jb2RlOiBmYWxzZSwKICAgICAgICB0b2tlbml6ZTogZnVuY3Rpb24gKHN0cikgewogICAgICAgICAgY29uc3QgY2prV29yZHMgPSBbXTsKICAgICAgICAgIGxldCBtID0gbnVsbDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIG0gPSBjamtSZWdleC5leGVjKHN0cik7CgogICAgICAgICAgICBpZiAobSkgewogICAgICAgICAgICAgIGNqa1dvcmRzLnB1c2gobVswXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gd2hpbGUgKG0pOwoKICAgICAgICAgIHJldHVybiBjamtXb3JkczsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBjamtJbmRleC5hZGQoY2prUGFnZXMpOwogICAgfQoKICAgIHBhZ2VzQnlQYXRoID0gXy5rZXlCeShwYWdlcywgInBhdGgiKTsKICB9LAoKICBhc3luYyBtYXRjaChxdWVyeVN0cmluZywgcXVlcnlUZXJtcywgbGltaXQgPSA3KSB7CiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBbewogICAgICBmaWVsZDogInRpdGxlIiwKICAgICAgcXVlcnk6IHF1ZXJ5U3RyaW5nLAogICAgICBsaW1pdCwKICAgICAgYm9vc3Q6IDEwCiAgICB9LCB7CiAgICAgIGZpZWxkOiAiaGVhZGVyc1N0ciIsCiAgICAgIHF1ZXJ5OiBxdWVyeVN0cmluZywKICAgICAgbGltaXQsCiAgICAgIGJvb3N0OiA3CiAgICB9LCB7CiAgICAgIGZpZWxkOiAiY29udGVudCIsCiAgICAgIHF1ZXJ5OiBxdWVyeVN0cmluZywKICAgICAgbGltaXQKICAgIH1dOwogICAgY29uc3Qgc2VhcmNoUmVzdWx0MSA9IGF3YWl0IGluZGV4LnNlYXJjaChzZWFyY2hQYXJhbXMpOwogICAgY29uc3Qgc2VhcmNoUmVzdWx0MiA9IGN5cmlsbGljSW5kZXggPyBhd2FpdCBjeXJpbGxpY0luZGV4LnNlYXJjaChzZWFyY2hQYXJhbXMpIDogW107CiAgICBjb25zdCBzZWFyY2hSZXN1bHQzID0gY2prSW5kZXggPyBhd2FpdCBjamtJbmRleC5zZWFyY2goc2VhcmNoUGFyYW1zKSA6IFtdOwoKICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IF8udW5pcUJ5KFsuLi5zZWFyY2hSZXN1bHQxLCAuLi5zZWFyY2hSZXN1bHQyLCAuLi5zZWFyY2hSZXN1bHQzXSwgInBhdGgiKTsKCiAgICBjb25zdCByZXN1bHQgPSBzZWFyY2hSZXN1bHQubWFwKHBhZ2UgPT4gKHsgLi4ucGFnZSwKICAgICAgcGFyZW50UGFnZVRpdGxlOiBnZXRQYXJlbnRQYWdlVGl0bGUocGFnZSksCiAgICAgIC4uLmdldEFkZGl0aW9uYWxJbmZvKHBhZ2UsIG5vcm1hbGl6ZVN0cmluZyhxdWVyeVN0cmluZyksIHF1ZXJ5VGVybXMpCiAgICB9KSk7CgogICAgY29uc3QgcmVzdWx0QnlQYXJlbnQgPSBfLmdyb3VwQnkocmVzdWx0LCAicGFyZW50UGFnZVRpdGxlIik7CgogICAgcmV0dXJuIF8udmFsdWVzKHJlc3VsdEJ5UGFyZW50KS5tYXAoYXJyID0+IGFyci5tYXAoKHgsIGkpID0+IHsKICAgICAgaWYgKGkgPT09IDApIHJldHVybiB4OwogICAgICByZXR1cm4geyAuLi54LAogICAgICAgIHBhcmVudFBhZ2VUaXRsZTogbnVsbAogICAgICB9OwogICAgfSkpLmZsYXQoKTsKICB9LAoKICBub3JtYWxpemVTdHJpbmcKfTsKCmZ1bmN0aW9uIGdldFBhcmVudFBhZ2VUaXRsZShwYWdlKSB7CiAgY29uc3QgcGF0aFBhcnRzID0gcGFnZS5wYXRoLnNwbGl0KCIvIik7CiAgbGV0IHBhcmVudFBhZ2VQYXRoID0gIi8iOwogIGlmIChwYXRoUGFydHNbMV0pIHBhcmVudFBhZ2VQYXRoID0gYC8ke3BhdGhQYXJ0c1sxXX0vYDsKICBjb25zdCBwYXJlbnRQYWdlID0gcGFnZXNCeVBhdGhbcGFyZW50UGFnZVBhdGhdIHx8IHBhZ2U7CiAgcmV0dXJuIHBhcmVudFBhZ2UudGl0bGU7Cn0KCmZ1bmN0aW9uIGdldEFkZGl0aW9uYWxJbmZvKHBhZ2UsIHF1ZXJ5U3RyaW5nLCBxdWVyeVRlcm1zKSB7CiAgY29uc3QgcXVlcnkgPSBxdWVyeVN0cmluZy50b0xvd2VyQ2FzZSgpOwogIGNvbnN0IG1hdGNoID0gZ2V0TWF0Y2gocGFnZSwgcXVlcnksIHF1ZXJ5VGVybXMpOwogIGlmICghbWF0Y2gpIHJldHVybiB7IC4uLmdldEZ1bGxIZWFkaW5nKHBhZ2UpLAogICAgc2x1ZzogIiIsCiAgICBjb250ZW50U3RyOiBudWxsCiAgfTsKCiAgaWYgKG1hdGNoLmhlYWRlckluZGV4ICE9IG51bGwpIHsKICAgIC8vIGhlYWRlciBtYXRjaAogICAgcmV0dXJuIHsgLi4uZ2V0RnVsbEhlYWRpbmcocGFnZSwgbWF0Y2guaGVhZGVySW5kZXgsIG1hdGNoKSwKICAgICAgc2x1ZzogIiMiICsgcGFnZS5oZWFkZXJzW21hdGNoLmhlYWRlckluZGV4XS5zbHVnLAogICAgICBjb250ZW50U3RyOiBudWxsCiAgICB9OwogIH0gLy8gY29udGVudCBtYXRjaAoKCiAgbGV0IGhlYWRlckluZGV4ID0gXy5maW5kTGFzdEluZGV4KHBhZ2UuaGVhZGVycyB8fCBbXSwgaCA9PiBoLmNoYXJJbmRleCAhPSBudWxsICYmIGguY2hhckluZGV4IDwgbWF0Y2guY2hhckluZGV4KTsKCiAgaWYgKGhlYWRlckluZGV4ID09PSAtMSkgaGVhZGVySW5kZXggPSBudWxsOwogIHJldHVybiB7IC4uLmdldEZ1bGxIZWFkaW5nKHBhZ2UsIGhlYWRlckluZGV4KSwKICAgIHNsdWc6IGhlYWRlckluZGV4ID09IG51bGwgPyAiIiA6ICIjIiArIHBhZ2UuaGVhZGVyc1toZWFkZXJJbmRleF0uc2x1ZywKICAgIC4uLmdldENvbnRlbnRTdHIocGFnZSwgbWF0Y2gpCiAgfTsKfQoKZnVuY3Rpb24gZ2V0RnVsbEhlYWRpbmcocGFnZSwgaGVhZGVySW5kZXgsIG1hdGNoKSB7CiAgaWYgKGhlYWRlckluZGV4ID09IG51bGwpIHJldHVybiB7CiAgICBoZWFkaW5nU3RyOiBwYWdlLnRpdGxlCiAgfTsKICBjb25zdCBoZWFkZXJzUGF0aCA9IFtdOwoKICB3aGlsZSAoaGVhZGVySW5kZXggIT0gbnVsbCkgewogICAgY29uc3QgaGVhZGVyID0gcGFnZS5oZWFkZXJzW2hlYWRlckluZGV4XTsKICAgIGhlYWRlcnNQYXRoLnVuc2hpZnQoaGVhZGVyKTsKICAgIGhlYWRlckluZGV4ID0gXy5maW5kTGFzdEluZGV4KHBhZ2UuaGVhZGVycywgaCA9PiBoLmxldmVsID09PSBoZWFkZXIubGV2ZWwgLSAxLCBoZWFkZXJJbmRleCAtIDEpOwogICAgaWYgKGhlYWRlckluZGV4ID09PSAtMSkgaGVhZGVySW5kZXggPSBudWxsOwogIH0KCiAgY29uc3QgaGVhZGluZ1N0ciA9IGhlYWRlcnNQYXRoLm1hcChoID0+IGgudGl0bGUpLmpvaW4oIiA+ICIpOwogIGNvbnN0IHByZWZpeFBhdGggPSBoZWFkZXJzUGF0aC5zbGljZSgwLCAtMSk7CiAgY29uc3QgcHJlZml4TGVuZ3RoID0gXy5zdW0ocHJlZml4UGF0aC5tYXAocCA9PiAocC50aXRsZSB8fCAiIikubGVuZ3RoKSkgKyBwcmVmaXhQYXRoLmxlbmd0aCAqIDM7CiAgY29uc3QgaGVhZGluZ0hpZ2hsaWdodCA9IG1hdGNoICYmIG1hdGNoLmhlYWRlckluZGV4ICE9IG51bGwgJiYgW21hdGNoLmNoYXJJbmRleCArIHByZWZpeExlbmd0aCwgbWF0Y2gudGVybUxlbmd0aF07CiAgcmV0dXJuIHsKICAgIGhlYWRpbmdTdHIsCiAgICBoZWFkaW5nSGlnaGxpZ2h0CiAgfTsKfQoKZnVuY3Rpb24gZ2V0TWF0Y2gocGFnZSwgcXVlcnksIHRlcm1zKSB7CiAgY29uc3QgbWF0Y2hlcyA9IHRlcm1zLm1hcCh0ID0+IHsKICAgIHJldHVybiBnZXRIZWFkZXJNYXRjaChwYWdlLCB0KSB8fCBnZXRDb250ZW50TWF0Y2gocGFnZSwgdCk7CiAgfSkuZmlsdGVyKG0gPT4gbSk7CiAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsKCiAgaWYgKG1hdGNoZXMuZXZlcnkobSA9PiBtLmhlYWRlckluZGV4ICE9IG51bGwpKSB7CiAgICByZXR1cm4gZ2V0SGVhZGVyTWF0Y2gocGFnZSwgcXVlcnkpIHx8IG1hdGNoZXNbMF07CiAgfQoKICByZXR1cm4gZ2V0Q29udGVudE1hdGNoKHBhZ2UsIHF1ZXJ5KSB8fCBtYXRjaGVzLmZpbmQobSA9PiBtLmhlYWRlckluZGV4ID09IG51bGwpOwp9CgpmdW5jdGlvbiBnZXRIZWFkZXJNYXRjaChwYWdlLCB0ZXJtKSB7CiAgaWYgKCFwYWdlLmhlYWRlcnMpIHJldHVybiBudWxsOwoKICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2UuaGVhZGVycy5sZW5ndGg7IGkrKykgewogICAgY29uc3QgaCA9IHBhZ2UuaGVhZGVyc1tpXTsKICAgIGNvbnN0IGNoYXJJbmRleCA9IGgubm9ybWFsaXplZFRpdGxlLmluZGV4T2YodGVybSk7CiAgICBpZiAoY2hhckluZGV4ID09PSAtMSkgY29udGludWU7CiAgICByZXR1cm4gewogICAgICBoZWFkZXJJbmRleDogaSwKICAgICAgY2hhckluZGV4LAogICAgICB0ZXJtTGVuZ3RoOiB0ZXJtLmxlbmd0aAogICAgfTsKICB9CgogIHJldHVybiBudWxsOwp9CgpmdW5jdGlvbiBnZXRDb250ZW50TWF0Y2gocGFnZSwgdGVybSkgewogIGlmICghcGFnZS5ub3JtYWxpemVkQ29udGVudCkgcmV0dXJuIG51bGw7CiAgY29uc3QgY2hhckluZGV4ID0gcGFnZS5ub3JtYWxpemVkQ29udGVudC5pbmRleE9mKHRlcm0pOwogIGlmIChjaGFySW5kZXggPT09IC0xKSByZXR1cm4gbnVsbDsKICByZXR1cm4gewogICAgaGVhZGVySW5kZXg6IG51bGwsCiAgICBjaGFySW5kZXgsCiAgICB0ZXJtTGVuZ3RoOiB0ZXJtLmxlbmd0aAogIH07Cn0KCmZ1bmN0aW9uIGdldENvbnRlbnRTdHIocGFnZSwgbWF0Y2gpIHsKICBjb25zdCBzbmlwcGV0TGVuZ3RoID0gMTIwOwogIGNvbnN0IHsKICAgIGNoYXJJbmRleCwKICAgIHRlcm1MZW5ndGgKICB9ID0gbWF0Y2g7CiAgbGV0IGxpbmVTdGFydEluZGV4ID0gcGFnZS5jb250ZW50Lmxhc3RJbmRleE9mKCJcbiIsIGNoYXJJbmRleCk7CiAgbGV0IGxpbmVFbmRJbmRleCA9IHBhZ2UuY29udGVudC5pbmRleE9mKCJcbiIsIGNoYXJJbmRleCk7CiAgaWYgKGxpbmVTdGFydEluZGV4ID09PSAtMSkgbGluZVN0YXJ0SW5kZXggPSAwOwogIGlmIChsaW5lRW5kSW5kZXggPT09IC0xKSBsaW5lRW5kSW5kZXggPSBwYWdlLmNvbnRlbnQubGVuZ3RoOwogIGNvbnN0IGxpbmUgPSBwYWdlLmNvbnRlbnQuc2xpY2UobGluZVN0YXJ0SW5kZXgsIGxpbmVFbmRJbmRleCk7CiAgY29uc3QgbGluZUNoYXJJbmRleCA9IGNoYXJJbmRleCAtIGxpbmVTdGFydEluZGV4OwogIGNvbnN0IGNvbnRlbnRIaWdobGlnaHQgPSBbbGluZUNoYXJJbmRleCwgdGVybUxlbmd0aF07CiAgaWYgKHNuaXBwZXRMZW5ndGggPj0gbGluZS5sZW5ndGgpIHJldHVybiB7CiAgICBjb250ZW50U3RyOiBsaW5lLAogICAgY29udGVudEhpZ2hsaWdodAogIH07CgogIGNvbnN0IGFkZGl0aW9uYWxDaGFyYWN0ZXJzRnJvbVN0YXJ0ID0gXy5yb3VuZCgoc25pcHBldExlbmd0aCAtIHRlcm1MZW5ndGgpIC8gMik7CgogIGNvbnN0IHNuaXBwZXRTdGFydCA9IE1hdGgubWF4KGxpbmVDaGFySW5kZXggLSBhZGRpdGlvbmFsQ2hhcmFjdGVyc0Zyb21TdGFydCwgMCk7CiAgY29uc3Qgc25pcHBldEVuZCA9IE1hdGgubWluKHNuaXBwZXRTdGFydCArIHNuaXBwZXRMZW5ndGgsIGxpbmUubGVuZ3RoKTsKICBsZXQgY29udGVudFN0ciA9IGxpbmUuc2xpY2Uoc25pcHBldFN0YXJ0LCBzbmlwcGV0RW5kKTsKICBjb250ZW50SGlnaGxpZ2h0WzBdID0gY29udGVudEhpZ2hsaWdodFswXSAtIHNuaXBwZXRTdGFydDsKCiAgaWYgKHNuaXBwZXRTdGFydCA+IDApIHsKICAgIGNvbnRlbnRTdHIgPSAiLi4uIiArIGNvbnRlbnRTdHI7CiAgICBjb250ZW50SGlnaGxpZ2h0WzBdID0gY29udGVudEhpZ2hsaWdodFswXSArIDM7CiAgfQoKICBpZiAoc25pcHBldEVuZCA8IGxpbmUubGVuZ3RoKSBjb250ZW50U3RyID0gY29udGVudFN0ciArICIuLi4iOwogIHJldHVybiB7CiAgICBjb250ZW50U3RyLAogICAgY29udGVudEhpZ2hsaWdodAogIH07Cn0KCmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZyhzdHIpIHsKICBpZiAoIXN0cikgcmV0dXJuIHN0cjsKICByZXR1cm4gc3RyLnRyaW0oKS50b0xvd2VyQ2FzZSgpLm5vcm1hbGl6ZSgiTkZEIikucmVwbGFjZSgvW1x1MDMwMC1cdTAzNmZdL2csICIiKTsKfQ=="},{"version":3,"names":["Flexsearch","_","index","cyrillicIndex","cjkIndex","pagesByPath","cjkRegex","buildIndex","allPages","options","pages","filter","p","frontmatter","search","indexSettings","encode","tokenize","split","async","doc","id","field","add","cyrillicPages","charsets","cyrillic","cjkPages","cjk","length","str","cjkWords","m","exec","push","keyBy","match","queryString","queryTerms","limit","searchParams","query","boost","searchResult1","searchResult2","searchResult3","searchResult","uniqBy","result","map","page","parentPageTitle","getParentPageTitle","getAdditionalInfo","normalizeString","resultByParent","groupBy","values","arr","x","i","flat","pathParts","path","parentPagePath","parentPage","title","toLowerCase","getMatch","getFullHeading","slug","contentStr","headerIndex","headers","findLastIndex","h","charIndex","getContentStr","headingStr","headersPath","header","unshift","level","join","prefixPath","slice","prefixLength","sum","headingHighlight","termLength","terms","matches","t","getHeaderMatch","getContentMatch","every","find","term","normalizedTitle","indexOf","normalizedContent","snippetLength","lineStartIndex","content","lastIndexOf","lineEndIndex","line","lineCharIndex","contentHighlight","additionalCharactersFromStart","round","snippetStart","Math","max","snippetEnd","min","trim","normalize","replace"],"sources":["D:/desk/bjcac/jobsessionDocument/node_modules/vuepress-theme-vt/plugins/fulltext-search/services/flexsearchSvc.js"],"sourcesContent":["import Flexsearch from \"flexsearch\";\n// Use when flexSearch v0.7.0 will be available\n// import cyrillicCharset from 'flexsearch/dist/lang/cyrillic/default.min.js'\n// import cjkCharset from 'flexsearch/dist/lang/cjk/default.min.js'\nimport _ from \"lodash\";\n\nlet index = null;\nlet cyrillicIndex = null;\nlet cjkIndex = null;\nlet pagesByPath = null;\n\nconst cjkRegex =\n  /[\\u3131-\\u314e|\\u314f-\\u3163|\\uac00-\\ud7a3]|[\\u4E00-\\u9FCC\\u3400-\\u4DB5\\uFA0E\\uFA0F\\uFA11\\uFA13\\uFA14\\uFA1F\\uFA21\\uFA23\\uFA24\\uFA27-\\uFA29]|[\\ud840-\\ud868][\\udc00-\\udfff]|\\ud869[\\udc00-\\uded6\\udf00-\\udfff]|[\\ud86a-\\ud86c][\\udc00-\\udfff]|\\ud86d[\\udc00-\\udf34\\udf40-\\udfff]|\\ud86e[\\udc00-\\udc1d]|[\\u3041-\\u3096]|[\\u30A1-\\u30FA]/giu;\n\nexport default {\n  buildIndex(allPages, options) {\n    const pages = allPages.filter(\n      (p) => !p.frontmatter || p.frontmatter.search !== false\n    );\n    const indexSettings = {\n      encode: options.encode || \"simple\",\n      tokenize: options.tokenize || \"forward\",\n      split: options.split || /\\W+/,\n      async: true,\n      doc: {\n        id: \"key\",\n        // here you choose the fields you want to index.\n        // for me I will search in the title and the content of each page.\n        // of course I stripped the content before so I use the plain text content not the markdown text\n        field: [\"title\", \"headersStr\", \"content\"],\n      },\n    };\n    index = new Flexsearch(indexSettings);\n    index.add(pages);\n\n    const cyrillicPages = pages.filter((p) => p.charsets.cyrillic);\n    const cjkPages = pages.filter((p) => p.charsets.cjk);\n\n    if (cyrillicPages.length) {\n      cyrillicIndex = new Flexsearch({\n        ...indexSettings,\n        encode: \"icase\",\n        split: /\\s+/,\n        tokenize: \"forward\",\n      });\n      cyrillicIndex.add(cyrillicPages);\n    }\n    if (cjkPages.length) {\n      cjkIndex = new Flexsearch({\n        ...indexSettings,\n        encode: false,\n        tokenize: function (str) {\n          const cjkWords = [];\n          let m = null;\n          do {\n            m = cjkRegex.exec(str);\n            if (m) {\n              cjkWords.push(m[0]);\n            }\n          } while (m);\n          return cjkWords;\n        },\n      });\n      cjkIndex.add(cjkPages);\n    }\n    pagesByPath = _.keyBy(pages, \"path\");\n  },\n  async match(queryString, queryTerms, limit = 7) {\n    const searchParams = [\n      {\n        field: \"title\",\n        query: queryString,\n        limit,\n        boost: 10,\n      },\n      {\n        field: \"headersStr\",\n        query: queryString,\n        limit,\n        boost: 7,\n      },\n      {\n        field: \"content\",\n        query: queryString,\n        limit,\n      },\n    ];\n    const searchResult1 = await index.search(searchParams);\n    const searchResult2 = cyrillicIndex\n      ? await cyrillicIndex.search(searchParams)\n      : [];\n    const searchResult3 = cjkIndex ? await cjkIndex.search(searchParams) : [];\n    const searchResult = _.uniqBy(\n      [...searchResult1, ...searchResult2, ...searchResult3],\n      \"path\"\n    );\n    const result = searchResult.map((page) => ({\n      ...page,\n      parentPageTitle: getParentPageTitle(page),\n      ...getAdditionalInfo(page, normalizeString(queryString), queryTerms),\n    }));\n\n    const resultByParent = _.groupBy(result, \"parentPageTitle\");\n    return _.values(resultByParent)\n      .map((arr) =>\n        arr.map((x, i) => {\n          if (i === 0) return x;\n          return { ...x, parentPageTitle: null };\n        })\n      )\n      .flat();\n  },\n  normalizeString,\n};\n\nfunction getParentPageTitle(page) {\n  const pathParts = page.path.split(\"/\");\n  let parentPagePath = \"/\";\n  if (pathParts[1]) parentPagePath = `/${pathParts[1]}/`;\n\n  const parentPage = pagesByPath[parentPagePath] || page;\n  return parentPage.title;\n}\n\nfunction getAdditionalInfo(page, queryString, queryTerms) {\n  const query = queryString.toLowerCase();\n  const match = getMatch(page, query, queryTerms);\n  if (!match)\n    return {\n      ...getFullHeading(page),\n      slug: \"\",\n      contentStr: null,\n    };\n\n  if (match.headerIndex != null) {\n    // header match\n    return {\n      ...getFullHeading(page, match.headerIndex, match),\n      slug: \"#\" + page.headers[match.headerIndex].slug,\n      contentStr: null,\n    };\n  }\n\n  // content match\n  let headerIndex = _.findLastIndex(\n    page.headers || [],\n    (h) => h.charIndex != null && h.charIndex < match.charIndex\n  );\n  if (headerIndex === -1) headerIndex = null;\n\n  return {\n    ...getFullHeading(page, headerIndex),\n    slug: headerIndex == null ? \"\" : \"#\" + page.headers[headerIndex].slug,\n    ...getContentStr(page, match),\n  };\n}\n\nfunction getFullHeading(page, headerIndex, match) {\n  if (headerIndex == null) return { headingStr: page.title };\n  const headersPath = [];\n  while (headerIndex != null) {\n    const header = page.headers[headerIndex];\n    headersPath.unshift(header);\n    headerIndex = _.findLastIndex(\n      page.headers,\n      (h) => h.level === header.level - 1,\n      headerIndex - 1\n    );\n    if (headerIndex === -1) headerIndex = null;\n  }\n\n  const headingStr = headersPath.map((h) => h.title).join(\" > \");\n  const prefixPath = headersPath.slice(0, -1);\n  const prefixLength =\n    _.sum(prefixPath.map((p) => (p.title || \"\").length)) +\n    prefixPath.length * 3;\n  const headingHighlight = match &&\n    match.headerIndex != null && [\n      match.charIndex + prefixLength,\n      match.termLength,\n    ];\n  return { headingStr, headingHighlight };\n}\n\nfunction getMatch(page, query, terms) {\n  const matches = terms\n    .map((t) => {\n      return getHeaderMatch(page, t) || getContentMatch(page, t);\n    })\n    .filter((m) => m);\n  if (matches.length === 0) return null;\n\n  if (matches.every((m) => m.headerIndex != null)) {\n    return getHeaderMatch(page, query) || matches[0];\n  }\n\n  return (\n    getContentMatch(page, query) || matches.find((m) => m.headerIndex == null)\n  );\n}\n\nfunction getHeaderMatch(page, term) {\n  if (!page.headers) return null;\n  for (let i = 0; i < page.headers.length; i++) {\n    const h = page.headers[i];\n    const charIndex = h.normalizedTitle.indexOf(term);\n    if (charIndex === -1) continue;\n    return {\n      headerIndex: i,\n      charIndex,\n      termLength: term.length,\n    };\n  }\n  return null;\n}\n\nfunction getContentMatch(page, term) {\n  if (!page.normalizedContent) return null;\n  const charIndex = page.normalizedContent.indexOf(term);\n  if (charIndex === -1) return null;\n\n  return { headerIndex: null, charIndex, termLength: term.length };\n}\n\nfunction getContentStr(page, match) {\n  const snippetLength = 120;\n  const { charIndex, termLength } = match;\n\n  let lineStartIndex = page.content.lastIndexOf(\"\\n\", charIndex);\n  let lineEndIndex = page.content.indexOf(\"\\n\", charIndex);\n\n  if (lineStartIndex === -1) lineStartIndex = 0;\n  if (lineEndIndex === -1) lineEndIndex = page.content.length;\n\n  const line = page.content.slice(lineStartIndex, lineEndIndex);\n  const lineCharIndex = charIndex - lineStartIndex;\n  const contentHighlight = [lineCharIndex, termLength];\n\n  if (snippetLength >= line.length)\n    return { contentStr: line, contentHighlight };\n\n  const additionalCharactersFromStart = _.round(\n    (snippetLength - termLength) / 2\n  );\n  const snippetStart = Math.max(\n    lineCharIndex - additionalCharactersFromStart,\n    0\n  );\n  const snippetEnd = Math.min(snippetStart + snippetLength, line.length);\n  let contentStr = line.slice(snippetStart, snippetEnd);\n  contentHighlight[0] = contentHighlight[0] - snippetStart;\n\n  if (snippetStart > 0) {\n    contentStr = \"...\" + contentStr;\n    contentHighlight[0] = contentHighlight[0] + 3;\n  }\n  if (snippetEnd < line.length) contentStr = contentStr + \"...\";\n  return {\n    contentStr,\n    contentHighlight,\n  };\n}\n\nfunction normalizeString(str) {\n  if (!str) return str;\n  return str\n    .trim()\n    .toLowerCase()\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\");\n}\n"],"mappings":";;AAAA,OAAOA,UAAP,MAAuB,YAAvB,C,CACA;AACA;AACA;;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,IAAIC,KAAK,GAAG,IAAZ;AACA,IAAIC,aAAa,GAAG,IAApB;AACA,IAAIC,QAAQ,GAAG,IAAf;AACA,IAAIC,WAAW,GAAG,IAAlB;AAEA,MAAMC,QAAQ,GACZ,0UADF;AAGA,eAAe;EACbC,UAAU,CAACC,QAAD,EAAWC,OAAX,EAAoB;IAC5B,MAAMC,KAAK,GAAGF,QAAQ,CAACG,MAAT,CACXC,CAAD,IAAO,CAACA,CAAC,CAACC,WAAH,IAAkBD,CAAC,CAACC,WAAF,CAAcC,MAAd,KAAyB,KADtC,CAAd;IAGA,MAAMC,aAAa,GAAG;MACpBC,MAAM,EAAEP,OAAO,CAACO,MAAR,IAAkB,QADN;MAEpBC,QAAQ,EAAER,OAAO,CAACQ,QAAR,IAAoB,SAFV;MAGpBC,KAAK,EAAET,OAAO,CAACS,KAAR,IAAiB,KAHJ;MAIpBC,KAAK,EAAE,IAJa;MAKpBC,GAAG,EAAE;QACHC,EAAE,EAAE,KADD;QAEH;QACA;QACA;QACAC,KAAK,EAAE,CAAC,OAAD,EAAU,YAAV,EAAwB,SAAxB;MALJ;IALe,CAAtB;IAaApB,KAAK,GAAG,IAAIF,UAAJ,CAAee,aAAf,CAAR;IACAb,KAAK,CAACqB,GAAN,CAAUb,KAAV;IAEA,MAAMc,aAAa,GAAGd,KAAK,CAACC,MAAN,CAAcC,CAAD,IAAOA,CAAC,CAACa,QAAF,CAAWC,QAA/B,CAAtB;IACA,MAAMC,QAAQ,GAAGjB,KAAK,CAACC,MAAN,CAAcC,CAAD,IAAOA,CAAC,CAACa,QAAF,CAAWG,GAA/B,CAAjB;;IAEA,IAAIJ,aAAa,CAACK,MAAlB,EAA0B;MACxB1B,aAAa,GAAG,IAAIH,UAAJ,CAAe,EAC7B,GAAGe,aAD0B;QAE7BC,MAAM,EAAE,OAFqB;QAG7BE,KAAK,EAAE,KAHsB;QAI7BD,QAAQ,EAAE;MAJmB,CAAf,CAAhB;MAMAd,aAAa,CAACoB,GAAd,CAAkBC,aAAlB;IACD;;IACD,IAAIG,QAAQ,CAACE,MAAb,EAAqB;MACnBzB,QAAQ,GAAG,IAAIJ,UAAJ,CAAe,EACxB,GAAGe,aADqB;QAExBC,MAAM,EAAE,KAFgB;QAGxBC,QAAQ,EAAE,UAAUa,GAAV,EAAe;UACvB,MAAMC,QAAQ,GAAG,EAAjB;UACA,IAAIC,CAAC,GAAG,IAAR;;UACA,GAAG;YACDA,CAAC,GAAG1B,QAAQ,CAAC2B,IAAT,CAAcH,GAAd,CAAJ;;YACA,IAAIE,CAAJ,EAAO;cACLD,QAAQ,CAACG,IAAT,CAAcF,CAAC,CAAC,CAAD,CAAf;YACD;UACF,CALD,QAKSA,CALT;;UAMA,OAAOD,QAAP;QACD;MAbuB,CAAf,CAAX;MAeA3B,QAAQ,CAACmB,GAAT,CAAaI,QAAb;IACD;;IACDtB,WAAW,GAAGJ,CAAC,CAACkC,KAAF,CAAQzB,KAAR,EAAe,MAAf,CAAd;EACD,CApDY;;EAqDb,MAAM0B,KAAN,CAAYC,WAAZ,EAAyBC,UAAzB,EAAqCC,KAAK,GAAG,CAA7C,EAAgD;IAC9C,MAAMC,YAAY,GAAG,CACnB;MACElB,KAAK,EAAE,OADT;MAEEmB,KAAK,EAAEJ,WAFT;MAGEE,KAHF;MAIEG,KAAK,EAAE;IAJT,CADmB,EAOnB;MACEpB,KAAK,EAAE,YADT;MAEEmB,KAAK,EAAEJ,WAFT;MAGEE,KAHF;MAIEG,KAAK,EAAE;IAJT,CAPmB,EAanB;MACEpB,KAAK,EAAE,SADT;MAEEmB,KAAK,EAAEJ,WAFT;MAGEE;IAHF,CAbmB,CAArB;IAmBA,MAAMI,aAAa,GAAG,MAAMzC,KAAK,CAACY,MAAN,CAAa0B,YAAb,CAA5B;IACA,MAAMI,aAAa,GAAGzC,aAAa,GAC/B,MAAMA,aAAa,CAACW,MAAd,CAAqB0B,YAArB,CADyB,GAE/B,EAFJ;IAGA,MAAMK,aAAa,GAAGzC,QAAQ,GAAG,MAAMA,QAAQ,CAACU,MAAT,CAAgB0B,YAAhB,CAAT,GAAyC,EAAvE;;IACA,MAAMM,YAAY,GAAG7C,CAAC,CAAC8C,MAAF,CACnB,CAAC,GAAGJ,aAAJ,EAAmB,GAAGC,aAAtB,EAAqC,GAAGC,aAAxC,CADmB,EAEnB,MAFmB,CAArB;;IAIA,MAAMG,MAAM,GAAGF,YAAY,CAACG,GAAb,CAAkBC,IAAD,KAAW,EACzC,GAAGA,IADsC;MAEzCC,eAAe,EAAEC,kBAAkB,CAACF,IAAD,CAFM;MAGzC,GAAGG,iBAAiB,CAACH,IAAD,EAAOI,eAAe,CAACjB,WAAD,CAAtB,EAAqCC,UAArC;IAHqB,CAAX,CAAjB,CAAf;;IAMA,MAAMiB,cAAc,GAAGtD,CAAC,CAACuD,OAAF,CAAUR,MAAV,EAAkB,iBAAlB,CAAvB;;IACA,OAAO/C,CAAC,CAACwD,MAAF,CAASF,cAAT,EACJN,GADI,CACCS,GAAD,IACHA,GAAG,CAACT,GAAJ,CAAQ,CAACU,CAAD,EAAIC,CAAJ,KAAU;MAChB,IAAIA,CAAC,KAAK,CAAV,EAAa,OAAOD,CAAP;MACb,OAAO,EAAE,GAAGA,CAAL;QAAQR,eAAe,EAAE;MAAzB,CAAP;IACD,CAHD,CAFG,EAOJU,IAPI,EAAP;EAQD,CAjGY;;EAkGbP;AAlGa,CAAf;;AAqGA,SAASF,kBAAT,CAA4BF,IAA5B,EAAkC;EAChC,MAAMY,SAAS,GAAGZ,IAAI,CAACa,IAAL,CAAU7C,KAAV,CAAgB,GAAhB,CAAlB;EACA,IAAI8C,cAAc,GAAG,GAArB;EACA,IAAIF,SAAS,CAAC,CAAD,CAAb,EAAkBE,cAAc,GAAI,IAAGF,SAAS,CAAC,CAAD,CAAI,GAAlC;EAElB,MAAMG,UAAU,GAAG5D,WAAW,CAAC2D,cAAD,CAAX,IAA+Bd,IAAlD;EACA,OAAOe,UAAU,CAACC,KAAlB;AACD;;AAED,SAASb,iBAAT,CAA2BH,IAA3B,EAAiCb,WAAjC,EAA8CC,UAA9C,EAA0D;EACxD,MAAMG,KAAK,GAAGJ,WAAW,CAAC8B,WAAZ,EAAd;EACA,MAAM/B,KAAK,GAAGgC,QAAQ,CAAClB,IAAD,EAAOT,KAAP,EAAcH,UAAd,CAAtB;EACA,IAAI,CAACF,KAAL,EACE,OAAO,EACL,GAAGiC,cAAc,CAACnB,IAAD,CADZ;IAELoB,IAAI,EAAE,EAFD;IAGLC,UAAU,EAAE;EAHP,CAAP;;EAMF,IAAInC,KAAK,CAACoC,WAAN,IAAqB,IAAzB,EAA+B;IAC7B;IACA,OAAO,EACL,GAAGH,cAAc,CAACnB,IAAD,EAAOd,KAAK,CAACoC,WAAb,EAA0BpC,KAA1B,CADZ;MAELkC,IAAI,EAAE,MAAMpB,IAAI,CAACuB,OAAL,CAAarC,KAAK,CAACoC,WAAnB,EAAgCF,IAFvC;MAGLC,UAAU,EAAE;IAHP,CAAP;EAKD,CAjBuD,CAmBxD;;;EACA,IAAIC,WAAW,GAAGvE,CAAC,CAACyE,aAAF,CAChBxB,IAAI,CAACuB,OAAL,IAAgB,EADA,EAEfE,CAAD,IAAOA,CAAC,CAACC,SAAF,IAAe,IAAf,IAAuBD,CAAC,CAACC,SAAF,GAAcxC,KAAK,CAACwC,SAFlC,CAAlB;;EAIA,IAAIJ,WAAW,KAAK,CAAC,CAArB,EAAwBA,WAAW,GAAG,IAAd;EAExB,OAAO,EACL,GAAGH,cAAc,CAACnB,IAAD,EAAOsB,WAAP,CADZ;IAELF,IAAI,EAAEE,WAAW,IAAI,IAAf,GAAsB,EAAtB,GAA2B,MAAMtB,IAAI,CAACuB,OAAL,CAAaD,WAAb,EAA0BF,IAF5D;IAGL,GAAGO,aAAa,CAAC3B,IAAD,EAAOd,KAAP;EAHX,CAAP;AAKD;;AAED,SAASiC,cAAT,CAAwBnB,IAAxB,EAA8BsB,WAA9B,EAA2CpC,KAA3C,EAAkD;EAChD,IAAIoC,WAAW,IAAI,IAAnB,EAAyB,OAAO;IAAEM,UAAU,EAAE5B,IAAI,CAACgB;EAAnB,CAAP;EACzB,MAAMa,WAAW,GAAG,EAApB;;EACA,OAAOP,WAAW,IAAI,IAAtB,EAA4B;IAC1B,MAAMQ,MAAM,GAAG9B,IAAI,CAACuB,OAAL,CAAaD,WAAb,CAAf;IACAO,WAAW,CAACE,OAAZ,CAAoBD,MAApB;IACAR,WAAW,GAAGvE,CAAC,CAACyE,aAAF,CACZxB,IAAI,CAACuB,OADO,EAEXE,CAAD,IAAOA,CAAC,CAACO,KAAF,KAAYF,MAAM,CAACE,KAAP,GAAe,CAFtB,EAGZV,WAAW,GAAG,CAHF,CAAd;IAKA,IAAIA,WAAW,KAAK,CAAC,CAArB,EAAwBA,WAAW,GAAG,IAAd;EACzB;;EAED,MAAMM,UAAU,GAAGC,WAAW,CAAC9B,GAAZ,CAAiB0B,CAAD,IAAOA,CAAC,CAACT,KAAzB,EAAgCiB,IAAhC,CAAqC,KAArC,CAAnB;EACA,MAAMC,UAAU,GAAGL,WAAW,CAACM,KAAZ,CAAkB,CAAlB,EAAqB,CAAC,CAAtB,CAAnB;EACA,MAAMC,YAAY,GAChBrF,CAAC,CAACsF,GAAF,CAAMH,UAAU,CAACnC,GAAX,CAAgBrC,CAAD,IAAO,CAACA,CAAC,CAACsD,KAAF,IAAW,EAAZ,EAAgBrC,MAAtC,CAAN,IACAuD,UAAU,CAACvD,MAAX,GAAoB,CAFtB;EAGA,MAAM2D,gBAAgB,GAAGpD,KAAK,IAC5BA,KAAK,CAACoC,WAAN,IAAqB,IADE,IACM,CAC3BpC,KAAK,CAACwC,SAAN,GAAkBU,YADS,EAE3BlD,KAAK,CAACqD,UAFqB,CAD/B;EAKA,OAAO;IAAEX,UAAF;IAAcU;EAAd,CAAP;AACD;;AAED,SAASpB,QAAT,CAAkBlB,IAAlB,EAAwBT,KAAxB,EAA+BiD,KAA/B,EAAsC;EACpC,MAAMC,OAAO,GAAGD,KAAK,CAClBzC,GADa,CACR2C,CAAD,IAAO;IACV,OAAOC,cAAc,CAAC3C,IAAD,EAAO0C,CAAP,CAAd,IAA2BE,eAAe,CAAC5C,IAAD,EAAO0C,CAAP,CAAjD;EACD,CAHa,EAIbjF,MAJa,CAILqB,CAAD,IAAOA,CAJD,CAAhB;EAKA,IAAI2D,OAAO,CAAC9D,MAAR,KAAmB,CAAvB,EAA0B,OAAO,IAAP;;EAE1B,IAAI8D,OAAO,CAACI,KAAR,CAAe/D,CAAD,IAAOA,CAAC,CAACwC,WAAF,IAAiB,IAAtC,CAAJ,EAAiD;IAC/C,OAAOqB,cAAc,CAAC3C,IAAD,EAAOT,KAAP,CAAd,IAA+BkD,OAAO,CAAC,CAAD,CAA7C;EACD;;EAED,OACEG,eAAe,CAAC5C,IAAD,EAAOT,KAAP,CAAf,IAAgCkD,OAAO,CAACK,IAAR,CAAchE,CAAD,IAAOA,CAAC,CAACwC,WAAF,IAAiB,IAArC,CADlC;AAGD;;AAED,SAASqB,cAAT,CAAwB3C,IAAxB,EAA8B+C,IAA9B,EAAoC;EAClC,IAAI,CAAC/C,IAAI,CAACuB,OAAV,EAAmB,OAAO,IAAP;;EACnB,KAAK,IAAIb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,IAAI,CAACuB,OAAL,CAAa5C,MAAjC,EAAyC+B,CAAC,EAA1C,EAA8C;IAC5C,MAAMe,CAAC,GAAGzB,IAAI,CAACuB,OAAL,CAAab,CAAb,CAAV;IACA,MAAMgB,SAAS,GAAGD,CAAC,CAACuB,eAAF,CAAkBC,OAAlB,CAA0BF,IAA1B,CAAlB;IACA,IAAIrB,SAAS,KAAK,CAAC,CAAnB,EAAsB;IACtB,OAAO;MACLJ,WAAW,EAAEZ,CADR;MAELgB,SAFK;MAGLa,UAAU,EAAEQ,IAAI,CAACpE;IAHZ,CAAP;EAKD;;EACD,OAAO,IAAP;AACD;;AAED,SAASiE,eAAT,CAAyB5C,IAAzB,EAA+B+C,IAA/B,EAAqC;EACnC,IAAI,CAAC/C,IAAI,CAACkD,iBAAV,EAA6B,OAAO,IAAP;EAC7B,MAAMxB,SAAS,GAAG1B,IAAI,CAACkD,iBAAL,CAAuBD,OAAvB,CAA+BF,IAA/B,CAAlB;EACA,IAAIrB,SAAS,KAAK,CAAC,CAAnB,EAAsB,OAAO,IAAP;EAEtB,OAAO;IAAEJ,WAAW,EAAE,IAAf;IAAqBI,SAArB;IAAgCa,UAAU,EAAEQ,IAAI,CAACpE;EAAjD,CAAP;AACD;;AAED,SAASgD,aAAT,CAAuB3B,IAAvB,EAA6Bd,KAA7B,EAAoC;EAClC,MAAMiE,aAAa,GAAG,GAAtB;EACA,MAAM;IAAEzB,SAAF;IAAaa;EAAb,IAA4BrD,KAAlC;EAEA,IAAIkE,cAAc,GAAGpD,IAAI,CAACqD,OAAL,CAAaC,WAAb,CAAyB,IAAzB,EAA+B5B,SAA/B,CAArB;EACA,IAAI6B,YAAY,GAAGvD,IAAI,CAACqD,OAAL,CAAaJ,OAAb,CAAqB,IAArB,EAA2BvB,SAA3B,CAAnB;EAEA,IAAI0B,cAAc,KAAK,CAAC,CAAxB,EAA2BA,cAAc,GAAG,CAAjB;EAC3B,IAAIG,YAAY,KAAK,CAAC,CAAtB,EAAyBA,YAAY,GAAGvD,IAAI,CAACqD,OAAL,CAAa1E,MAA5B;EAEzB,MAAM6E,IAAI,GAAGxD,IAAI,CAACqD,OAAL,CAAalB,KAAb,CAAmBiB,cAAnB,EAAmCG,YAAnC,CAAb;EACA,MAAME,aAAa,GAAG/B,SAAS,GAAG0B,cAAlC;EACA,MAAMM,gBAAgB,GAAG,CAACD,aAAD,EAAgBlB,UAAhB,CAAzB;EAEA,IAAIY,aAAa,IAAIK,IAAI,CAAC7E,MAA1B,EACE,OAAO;IAAE0C,UAAU,EAAEmC,IAAd;IAAoBE;EAApB,CAAP;;EAEF,MAAMC,6BAA6B,GAAG5G,CAAC,CAAC6G,KAAF,CACpC,CAACT,aAAa,GAAGZ,UAAjB,IAA+B,CADK,CAAtC;;EAGA,MAAMsB,YAAY,GAAGC,IAAI,CAACC,GAAL,CACnBN,aAAa,GAAGE,6BADG,EAEnB,CAFmB,CAArB;EAIA,MAAMK,UAAU,GAAGF,IAAI,CAACG,GAAL,CAASJ,YAAY,GAAGV,aAAxB,EAAuCK,IAAI,CAAC7E,MAA5C,CAAnB;EACA,IAAI0C,UAAU,GAAGmC,IAAI,CAACrB,KAAL,CAAW0B,YAAX,EAAyBG,UAAzB,CAAjB;EACAN,gBAAgB,CAAC,CAAD,CAAhB,GAAsBA,gBAAgB,CAAC,CAAD,CAAhB,GAAsBG,YAA5C;;EAEA,IAAIA,YAAY,GAAG,CAAnB,EAAsB;IACpBxC,UAAU,GAAG,QAAQA,UAArB;IACAqC,gBAAgB,CAAC,CAAD,CAAhB,GAAsBA,gBAAgB,CAAC,CAAD,CAAhB,GAAsB,CAA5C;EACD;;EACD,IAAIM,UAAU,GAAGR,IAAI,CAAC7E,MAAtB,EAA8B0C,UAAU,GAAGA,UAAU,GAAG,KAA1B;EAC9B,OAAO;IACLA,UADK;IAELqC;EAFK,CAAP;AAID;;AAED,SAAStD,eAAT,CAAyBxB,GAAzB,EAA8B;EAC5B,IAAI,CAACA,GAAL,EAAU,OAAOA,GAAP;EACV,OAAOA,GAAG,CACPsF,IADI,GAEJjD,WAFI,GAGJkD,SAHI,CAGM,KAHN,EAIJC,OAJI,CAII,kBAJJ,EAIwB,EAJxB,CAAP;AAKD"}]}