{"remainingRequest":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\vuepress-theme-vt\\plugins\\fulltext-search\\components\\SearchBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\vuepress-theme-vt\\plugins\\fulltext-search\\components\\SearchBox.vue","mtime":499162500000},{"path":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\bjcac\\jobsessionDocument\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBmbGV4c2VhcmNoU3ZjIGZyb20gIi4uL3NlcnZpY2VzL2ZsZXhzZWFyY2hTdmMiOwppbXBvcnQgSWNvblNlYXJjaCBmcm9tICIuL0ljb25TZWFyY2gudnVlIjsKaW1wb3J0IFNlYXJjaENvbW1hbmQgZnJvbSAiLi9TZWFyY2hDb21tYW5kLnZ1ZSI7IC8vIHNlZSBodHRwczovL3Z1ZXByZXNzLnZ1ZWpzLm9yZy9wbHVnaW4vb3B0aW9uLWFwaS5odG1sI2NsaWVudGR5bmFtaWNtb2R1bGVzCgppbXBvcnQgaG9va3MgZnJvbSAiQGR5bmFtaWMvaG9va3MiOwovKiBnbG9iYWwgU0VBUkNIX01BWF9TVUdHRVNUSU9OUywgU0VBUkNIX1BBVEhTLCBTRUFSQ0hfSE9US0VZUyAqLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZWFyY2hCb3giLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6ICIiLAogICAgICBmb2N1c2VkOiBmYWxzZSwKICAgICAgZm9jdXNJbmRleDogMCwKICAgICAgc3VnZ2VzdGlvbnM6IG51bGwKICAgIH07CiAgfSwKCiAgY29tcG9uZW50czogewogICAgSWNvblNlYXJjaCwKICAgIFNlYXJjaENvbW1hbmQKICB9LAogIGNvbXB1dGVkOiB7CiAgICBxdWVyeVRlcm1zKCkgewogICAgICBpZiAoIXRoaXMucXVlcnkpIHJldHVybiBbXTsKICAgICAgY29uc3QgcmVzdWx0ID0gZmxleHNlYXJjaFN2Yy5ub3JtYWxpemVTdHJpbmcodGhpcy5xdWVyeSkuc3BsaXQoL1teXHB7TH1ccHtOfV9dKy9pdSkuZmlsdGVyKHQgPT4gdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAoKICAgIHNob3dTdWdnZXN0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuZm9jdXNlZCAmJiB0aGlzLnN1Z2dlc3Rpb25zICYmIHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoOwogICAgfSwKCiAgICAvLyBtYWtlIHN1Z2dlc3Rpb25zIGFsaWduIHJpZ2h0IHdoZW4gdGhlcmUgYXJlIG5vdCBlbm91Z2ggaXRlbXMKICAgIGFsaWduUmlnaHQoKSB7CiAgICAgIGNvbnN0IG5hdkNvdW50ID0gKHRoaXMuJHNpdGUudGhlbWVDb25maWcubmF2IHx8IFtdKS5sZW5ndGg7CiAgICAgIGNvbnN0IHJlcG8gPSB0aGlzLiRzaXRlLnJlcG8gPyAxIDogMDsKICAgICAgcmV0dXJuIG5hdkNvdW50ICsgcmVwbyA8PSAyOwogICAgfSwKCiAgICBwbGFjZWhvbGRlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJGxvY2FsZUNvbmZpZy5zZWFyY2hQbGFjZWhvbGRlciB8fCB0aGlzLiRzaXRlLnRoZW1lQ29uZmlnLnNlYXJjaFBsYWNlaG9sZGVyIHx8ICJTZWFyY2giOwogICAgfQoKICB9LAogIHdhdGNoOiB7CiAgICBxdWVyeSgpIHsKICAgICAgdGhpcy5nZXRTdWdnZXN0aW9ucygpOwogICAgfSwKCiAgICAkbG9jYWxlUGF0aCgpIHsKICAgICAgdGhpcy5iaW5kSW5kZXhQYWdlcygpOwogICAgfQoKICB9LAoKICAvKiBnbG9iYWwgT1BUSU9OUyAqLwogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmJpbmRJbmRleFBhZ2VzKCk7IC8vIHNldCBxdWVyeSBmcm9tIFVSTAoKICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMudXJsUGFyYW1zKCk7CgogICAgaWYgKHBhcmFtcykgewogICAgICBjb25zdCBxdWVyeSA9IHBhcmFtcy5nZXQoInF1ZXJ5Iik7CgogICAgICBpZiAocXVlcnkpIHsKICAgICAgICB0aGlzLnF1ZXJ5ID0gZGVjb2RlVVJJKHF1ZXJ5KTsKICAgICAgICB0aGlzLmZvY3VzZWQgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLCB0aGlzLm9uSG90a2V5KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBiaW5kSW5kZXhQYWdlcygpIHsKICAgICAgY29uc3Qgb3B0aW9ucyA9IE9QVElPTlMgfHwge307CiAgICAgIGNvbnN0IGxvY2FsZXMgPSB0aGlzLiRzaXRlLmxvY2FsZXM7CiAgICAgIC8qKgogICAgICAgKiBIYW5kbGUgc2VhcmNoIHNjb3BlIGZvciBpMThuLgogICAgICAgKi8KCiAgICAgIGlmICh0eXBlb2YgbG9jYWxlcyA9PT0gIm9iamVjdCIpIHsKICAgICAgICBjb25zdCBub25NYXRjaGVkTG9jYWxlcyA9IE9iamVjdC5rZXlzKGxvY2FsZXMpLmZpbHRlcihrZXkgPT4ga2V5ICE9PSB0aGlzLiRsb2NhbGVQYXRoKTsKICAgICAgICBjb25zdCBpbmRleFBhZ2VzID0gdGhpcy4kc2l0ZS5wYWdlcy5maWx0ZXIocGFnZSA9PiBub25NYXRjaGVkTG9jYWxlcy5ldmVyeShsb2NhbGUgPT4gewogICAgICAgICAgaWYgKGxvY2FsZSA9PT0gIi8iKSB7CiAgICAgICAgICAgIHJldHVybiBwYWdlLnBhdGguc3RhcnRzV2l0aCh0aGlzLiRsb2NhbGVQYXRoKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gIXBhZ2UucGF0aC5zdGFydHNXaXRoKGxvY2FsZSk7CiAgICAgICAgfSkpOwogICAgICAgIGZsZXhzZWFyY2hTdmMuYnVpbGRJbmRleChpbmRleFBhZ2VzLCBvcHRpb25zKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmbGV4c2VhcmNoU3ZjLmJ1aWxkSW5kZXgodGhpcy4kc2l0ZS5wYWdlcywgb3B0aW9ucyk7CiAgICAgIH0KCiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCB0aGlzLm9uSG90a2V5KTsKICAgIH0sCgogICAgYXN5bmMgZ2V0U3VnZ2VzdGlvbnMoKSB7CiAgICAgIGlmICghdGhpcy5xdWVyeSB8fCAhdGhpcy5xdWVyeVRlcm1zLmxlbmd0aCkgewogICAgICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSBbXTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxldCBzdWdnZXN0aW9ucyA9IGF3YWl0IGZsZXhzZWFyY2hTdmMubWF0Y2godGhpcy5xdWVyeSwgdGhpcy5xdWVyeVRlcm1zLCB0aGlzLiRzaXRlLnRoZW1lQ29uZmlnLnNlYXJjaE1heFN1Z2dlc3Rpb25zIHx8IFNFQVJDSF9NQVhfU1VHR0VTVElPTlMpOwoKICAgICAgaWYgKGhvb2tzLnByb2Nlc3NTdWdnZXN0aW9ucykgewogICAgICAgIC8vIGF1Z21lbnQgc3VnZ2VzdGlvbnMgd2l0aCB1c2VyLXByb3ZpZGVkIGZ1bmN0aW9uCiAgICAgICAgc3VnZ2VzdGlvbnMgPSBhd2FpdCBob29rcy5wcm9jZXNzU3VnZ2VzdGlvbnMoc3VnZ2VzdGlvbnMsIHRoaXMucXVlcnksIHRoaXMucXVlcnlUZXJtcyk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSBzdWdnZXN0aW9ucy5tYXAocyA9PiAoeyAuLi5zLAogICAgICAgIGhlYWRpbmdEaXNwbGF5OiBoaWdobGlnaHQocy5oZWFkaW5nU3RyLCBzLmhlYWRpbmdIaWdobGlnaHQpLAogICAgICAgIGNvbnRlbnREaXNwbGF5OiBoaWdobGlnaHQocy5jb250ZW50U3RyLCBzLmNvbnRlbnRIaWdobGlnaHQpCiAgICAgIH0pKTsKICAgIH0sCgogICAgZ2V0UGFnZUxvY2FsZVBhdGgocGFnZSkgewogICAgICBmb3IgKGNvbnN0IGxvY2FsZVBhdGggaW4gdGhpcy4kc2l0ZS5sb2NhbGVzIHx8IHt9KSB7CiAgICAgICAgaWYgKGxvY2FsZVBhdGggIT09ICIvIiAmJiBwYWdlLnBhdGguaW5kZXhPZihsb2NhbGVQYXRoKSA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGxvY2FsZVBhdGg7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gIi8iOwogICAgfSwKCiAgICBpc1NlYXJjaGFibGUocGFnZSkgewogICAgICBsZXQgc2VhcmNoUGF0aHMgPSBTRUFSQ0hfUEFUSFM7IC8vIGFsbCBwYXRocyBzZWFyY2hhYmxlcwoKICAgICAgaWYgKHNlYXJjaFBhdGhzID09PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHNlYXJjaFBhdGhzID0gQXJyYXkuaXNBcnJheShzZWFyY2hQYXRocykgPyBzZWFyY2hQYXRocyA6IG5ldyBBcnJheShzZWFyY2hQYXRocyk7CiAgICAgIHJldHVybiBzZWFyY2hQYXRocy5maWx0ZXIocGF0aCA9PiB7CiAgICAgICAgcmV0dXJuIHBhZ2UucGF0aC5tYXRjaChwYXRoKTsKICAgICAgfSkubGVuZ3RoID4gMDsKICAgIH0sCgogICAgb25Ib3RrZXkoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnNyY0VsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkgJiYgU0VBUkNIX0hPVEtFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkgewogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CiAgICB9LAoKICAgIG9uVXAoKSB7CiAgICAgIGlmICh0aGlzLnNob3dTdWdnZXN0aW9ucykgewogICAgICAgIGlmICh0aGlzLmZvY3VzSW5kZXggPiAwKSB7CiAgICAgICAgICB0aGlzLmZvY3VzSW5kZXgtLTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb2N1c0luZGV4ID0gdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBvbkRvd24oKSB7CiAgICAgIGlmICh0aGlzLnNob3dTdWdnZXN0aW9ucykgewogICAgICAgIGlmICh0aGlzLmZvY3VzSW5kZXggPCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHRoaXMuZm9jdXNJbmRleCsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmZvY3VzSW5kZXggPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBnbyhpKSB7CiAgICAgIGlmICghdGhpcy5zaG93U3VnZ2VzdGlvbnMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChob29rcy5vbkdvVG9TdWdnZXN0aW9uKSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gaG9va3Mub25Hb1RvU3VnZ2VzdGlvbihpLCB0aGlzLnN1Z2dlc3Rpb25zW2ldLCB0aGlzLnF1ZXJ5LCB0aGlzLnF1ZXJ5VGVybXMpOwogICAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc3VnZ2VzdGlvbnNbaV0uZXh0ZXJuYWwpIHsKICAgICAgICB3aW5kb3cub3Blbih0aGlzLnN1Z2dlc3Rpb25zW2ldLnBhdGggKyB0aGlzLnN1Z2dlc3Rpb25zW2ldLnNsdWcsICJfYmxhbmsiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLnN1Z2dlc3Rpb25zW2ldLnBhdGggKyB0aGlzLnN1Z2dlc3Rpb25zW2ldLnNsdWcpOwogICAgICAgIHRoaXMucXVlcnkgPSAiIjsKICAgICAgICB0aGlzLmZvY3VzSW5kZXggPSAwOwogICAgICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlOyAvLyByZXNldCBxdWVyeSBwYXJhbQoKICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLnVybFBhcmFtcygpOwoKICAgICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgICBwYXJhbXMuZGVsZXRlKCJxdWVyeSIpOwogICAgICAgICAgY29uc3QgcGFyYW1zU3RyaW5nID0gcGFyYW1zLnRvU3RyaW5nKCk7CiAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIChwYXJhbXNTdHJpbmcgPyBgPyR7cGFyYW1zU3RyaW5nfWAgOiAiIik7CiAgICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCAiIiwgbmV3U3RhdGUpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBmb2N1cyhpKSB7CiAgICAgIHRoaXMuZm9jdXNJbmRleCA9IGk7CiAgICB9LAoKICAgIHVuZm9jdXMoKSB7CiAgICAgIHRoaXMuZm9jdXNJbmRleCA9IC0xOwogICAgfSwKCiAgICB1cmxQYXJhbXMoKSB7CiAgICAgIGlmICghd2luZG93LmxvY2F0aW9uLnNlYXJjaCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTsKICAgIH0sCgogICAgZXhwYW5kU2VhcmNoSW5wdXQoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgICAgdGhpcy5mb2N1c2VkID0gdHJ1ZTsKICAgIH0KCiAgfQp9OwoKZnVuY3Rpb24gaGlnaGxpZ2h0KHN0ciwgc3RySGlnaGxpZ2h0KSB7CiAgaWYgKCFzdHIpIHJldHVybiB7fTsKICBpZiAoIXN0ckhpZ2hsaWdodCkgcmV0dXJuIHsKICAgIHByZWZpeDogc3RyCiAgfTsKICBjb25zdCBbc3RhcnQsIGxlbmd0aF0gPSBzdHJIaWdobGlnaHQ7CiAgY29uc3QgZW5kID0gc3RhcnQgKyBsZW5ndGg7CiAgY29uc3QgcHJlZml4ID0gc3RyLnNsaWNlKDAsIHN0YXJ0KTsKICBjb25zdCBoaWdobGlnaHRlZENvbnRlbnQgPSBzdHIuc2xpY2Uoc3RhcnQsIGVuZCk7CiAgY29uc3Qgc3VmZml4ID0gc3RyLnNsaWNlKGVuZCk7CiAgcmV0dXJuIHsKICAgIHByZWZpeCwKICAgIGhpZ2hsaWdodGVkQ29udGVudCwKICAgIHN1ZmZpeAogIH07IC8vIHJldHVybiBgJHtwcmVmaXh9PHNwYW4gY2xhc3M9ImhpZ2hsaWdodCI+JHtoaWdobGlnaHRlZENvbnRlbnR9PC9zcGFuPiR7c3VmZml4fWAKfQ=="},{"version":3,"mappings":";AA2DA;AACA;AACA,gD,CAEA;;AACA;AAEA;;AACA;EACAA,iBADA;;EAEAC;IACA;MACAC,SADA;MAEAC,cAFA;MAGAC,aAHA;MAIAC;IAJA;EAMA,CATA;;EAUAC;IACAC,UADA;IAEAC;EAFA,CAVA;EAcAC;IACAC;MACA;MACA,6BACAC,eADA,CACA,UADA,EAEAC,KAFA,CAEA,mBAFA,EAGAC,MAHA,CAGAC,MAHA;MAIA;IACA,CARA;;IASAC;MACA;IACA,CAXA;;IAaA;IACAC;MACA;MACA;MACA;IACA,CAlBA;;IAmBAC;MACA,OACA,wCACA,wCADA,IAEA,QAHA;IAKA;;EAzBA,CAdA;EAyCAC;IACAhB;MACA;IACA,CAHA;;IAIAiB;MACA;IACA;;EANA,CAzCA;;EAiDA;EACAC;IACA,sBADA,CAEA;;IACA;;IACA;MACA;;MACA;QACA;QACA;MACA;IACA;EACA,CA7DA;;EA8DAC;IACAC;EACA,CAhEA;;EAiEAC;IACAC;MACA;MACA;MAEA;AACA;AACA;;MACA;QACA,sDACAC,+BADA;QAGA,mDACAC;UACA;YACA;UACA;;UACA;QACA,CALA,CADA;QAQAC;MACA,CAbA,MAaA;QACAA;MACA;;MAEAL;IACA,CA1BA;;IA2BA;MACA;QACA;QACA;MACA;;MACA,4CACA,UADA,EAEA,eAFA,EAGA,qEAHA;;MAKA;QACA;QACAjB,6CACAA,WADA,EAEA,UAFA,EAGA,eAHA;MAKA;;MACA,2CACA,IADA;QAEAuB,2DAFA;QAGAC;MAHA;IAKA,CAlDA;;IAmDAC;MACA;QACA;UACA;QACA;MACA;;MACA;IACA,CA1DA;;IA2DAC;MACA,+BADA,CAEA;;MACA;QACA;MACA;;MACAC,2CACAA,WADA,GAEA,sBAFA;MAGA,OACAA;QACA;MACA,CAFA,EAEAC,MAFA,GAEA,CAHA;IAKA,CAzEA;;IA0EAC;MACA,IACAC,sCACAC,kCAFA,EAGA;QACA;QACAD;MACA;IACA,CAlFA;;IAmFAE;MACA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA;IACA,CA3FA;;IA4FAC;MACA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA;IACA,CApGA;;IAqGAC;MACA;QACA;MACA;;MACA;QACA,sCACAC,CADA,EAEA,mBAFA,EAGA,UAHA,EAIA,eAJA;QAMA;MACA;;MACA;QACAC,YACA,mDADA,EAEA,QAFA;MAIA,CALA,MAKA;QACA;QACA;QACA;QACA,qBAJA,CAMA;;QACA;;QACA;UACAC;UACA;UACA,iBACAD,mEADA;UAEAE;QACA;MACA;IACA,CAvIA;;IAwIAC;MACA;IACA,CA1IA;;IA2IAC;MACA;IACA,CA7IA;;IA8IAC;MACA;QACA;MACA;;MACA;IACA,CAnJA;;IAoJAC;MACA;MACA;IACA;;EAvJA;AAjEA;;AA4NA;EACA;EACA;IAAAC;EAAA;EACA;EACA;EAEA;EACA;EACA;EACA;IAAAA;IAAAC;IAAAC;EAAA,EATA,CAWA;AACA","names":["name","data","query","focused","focusIndex","suggestions","components","IconSearch","SearchCommand","computed","queryTerms","normalizeString","split","filter","t","showSuggestions","alignRight","placeholder","watch","$localePath","mounted","beforeDestroy","document","methods","bindIndexPages","key","nonMatchedLocales","flexsearchSvc","headingDisplay","contentDisplay","getPageLocalePath","isSearchable","searchPaths","length","onHotkey","event","SEARCH_HOTKEYS","onUp","onDown","go","i","window","params","history","focus","unfocus","urlParams","expandSearchInput","prefix","highlightedContent","suffix"],"sourceRoot":"node_modules/vuepress-theme-vt/plugins/fulltext-search/components","sources":["SearchBox.vue"],"sourcesContent":["<template>\n  <div class=\"search-box\">\n    <input\n      ref=\"input\"\n      aria-label=\"Search\"\n      :value=\"query\"\n      :class=\"{ focused: focused }\"\n      :placeholder=\"placeholder\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      @input=\"query = $event.target.value\"\n      @focus=\"focused = true\"\n      @blur=\"focused = false\"\n      @keyup.enter=\"go(focusIndex)\"\n      @keyup.up=\"onUp\"\n      @keyup.down=\"onDown\"\n    />\n    <IconSearch class=\"search-icon\" @click.native=\"expandSearchInput\" />\n    <SearchCommand class=\"search-command\" @onCommand=\"expandSearchInput\" />\n    <ul\n      v-if=\"showSuggestions\"\n      class=\"suggestions\"\n      :class=\"{ 'align-right': alignRight }\"\n      @mouseleave=\"unfocus\"\n    >\n      <li\n        v-for=\"(s, i) in suggestions\"\n        :key=\"i\"\n        class=\"suggestion\"\n        :class=\"{ focused: i === focusIndex }\"\n        @mousedown=\"go(i)\"\n        @mouseenter=\"focus(i)\"\n      >\n        <a :href=\"s.path + s.slug\" @click.prevent>\n          <div\n            v-if=\"s.parentPageTitle\"\n            class=\"parent-page-title\"\n            v-html=\"s.parentPageTitle\"\n          />\n          <div class=\"suggestion-row\">\n            <div class=\"page-title\">{{ s.title || s.path }}</div>\n            <div class=\"suggestion-content\">\n              <!-- prettier-ignore -->\n              <div v-if=\"s.headingStr\" class=\"header\">\n                {{ s.headingDisplay.prefix }}<span class=\"highlight\">{{ s.headingDisplay.highlightedContent }}</span>{{ s.headingDisplay.suffix }}\n              </div>\n              <!-- prettier-ignore -->\n              <div v-if=\"s.contentStr\">\n                {{ s.contentDisplay.prefix }}<span class=\"highlight\">{{ s.contentDisplay.highlightedContent }}</span>{{ s.contentDisplay.suffix }}\n              </div>\n            </div>\n          </div>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport flexsearchSvc from \"../services/flexsearchSvc\";\nimport IconSearch from \"./IconSearch.vue\";\nimport SearchCommand from \"./SearchCommand.vue\";\n\n// see https://vuepress.vuejs.org/plugin/option-api.html#clientdynamicmodules\nimport hooks from \"@dynamic/hooks\";\n\n/* global SEARCH_MAX_SUGGESTIONS, SEARCH_PATHS, SEARCH_HOTKEYS */\nexport default {\n  name: \"SearchBox\",\n  data() {\n    return {\n      query: \"\",\n      focused: false,\n      focusIndex: 0,\n      suggestions: null,\n    };\n  },\n  components: {\n    IconSearch,\n    SearchCommand,\n  },\n  computed: {\n    queryTerms() {\n      if (!this.query) return [];\n      const result = flexsearchSvc\n        .normalizeString(this.query)\n        .split(/[^\\p{L}\\p{N}_]+/iu)\n        .filter((t) => t);\n      return result;\n    },\n    showSuggestions() {\n      return this.focused && this.suggestions && this.suggestions.length;\n    },\n\n    // make suggestions align right when there are not enough items\n    alignRight() {\n      const navCount = (this.$site.themeConfig.nav || []).length;\n      const repo = this.$site.repo ? 1 : 0;\n      return navCount + repo <= 2;\n    },\n    placeholder() {\n      return (\n        this.$localeConfig.searchPlaceholder ||\n        this.$site.themeConfig.searchPlaceholder ||\n        \"Search\"\n      );\n    },\n  },\n  watch: {\n    query() {\n      this.getSuggestions();\n    },\n    $localePath() {\n      this.bindIndexPages();\n    },\n  },\n  /* global OPTIONS */\n  mounted() {\n    this.bindIndexPages();\n    // set query from URL\n    const params = this.urlParams();\n    if (params) {\n      const query = params.get(\"query\");\n      if (query) {\n        this.query = decodeURI(query);\n        this.focused = true;\n      }\n    }\n  },\n  beforeDestroy() {\n    document.removeEventListener(\"keydown\", this.onHotkey);\n  },\n  methods: {\n    bindIndexPages() {\n      const options = OPTIONS || {};\n      const locales = this.$site.locales;\n\n      /**\n       * Handle search scope for i18n.\n       */\n      if (typeof locales === \"object\") {\n        const nonMatchedLocales = Object.keys(locales).filter(\n          (key) => key !== this.$localePath\n        );\n        const indexPages = this.$site.pages.filter((page) =>\n          nonMatchedLocales.every((locale) => {\n            if (locale === \"/\") {\n              return page.path.startsWith(this.$localePath);\n            }\n            return !page.path.startsWith(locale);\n          })\n        );\n        flexsearchSvc.buildIndex(indexPages, options);\n      } else {\n        flexsearchSvc.buildIndex(this.$site.pages, options);\n      }\n\n      document.addEventListener(\"keydown\", this.onHotkey);\n    },\n    async getSuggestions() {\n      if (!this.query || !this.queryTerms.length) {\n        this.suggestions = [];\n        return;\n      }\n      let suggestions = await flexsearchSvc.match(\n        this.query,\n        this.queryTerms,\n        this.$site.themeConfig.searchMaxSuggestions || SEARCH_MAX_SUGGESTIONS\n      );\n      if (hooks.processSuggestions) {\n        // augment suggestions with user-provided function\n        suggestions = await hooks.processSuggestions(\n          suggestions,\n          this.query,\n          this.queryTerms\n        );\n      }\n      this.suggestions = suggestions.map((s) => ({\n        ...s,\n        headingDisplay: highlight(s.headingStr, s.headingHighlight),\n        contentDisplay: highlight(s.contentStr, s.contentHighlight),\n      }));\n    },\n    getPageLocalePath(page) {\n      for (const localePath in this.$site.locales || {}) {\n        if (localePath !== \"/\" && page.path.indexOf(localePath) === 0) {\n          return localePath;\n        }\n      }\n      return \"/\";\n    },\n    isSearchable(page) {\n      let searchPaths = SEARCH_PATHS;\n      // all paths searchables\n      if (searchPaths === null) {\n        return true;\n      }\n      searchPaths = Array.isArray(searchPaths)\n        ? searchPaths\n        : new Array(searchPaths);\n      return (\n        searchPaths.filter((path) => {\n          return page.path.match(path);\n        }).length > 0\n      );\n    },\n    onHotkey(event) {\n      if (\n        event.srcElement === document.body &&\n        SEARCH_HOTKEYS.includes(event.key)\n      ) {\n        this.$refs.input.focus();\n        event.preventDefault();\n      }\n    },\n    onUp() {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--;\n        } else {\n          this.focusIndex = this.suggestions.length - 1;\n        }\n      }\n    },\n    onDown() {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++;\n        } else {\n          this.focusIndex = 0;\n        }\n      }\n    },\n    go(i) {\n      if (!this.showSuggestions) {\n        return;\n      }\n      if (hooks.onGoToSuggestion) {\n        const result = hooks.onGoToSuggestion(\n          i,\n          this.suggestions[i],\n          this.query,\n          this.queryTerms\n        );\n        if (result === true) return;\n      }\n      if (this.suggestions[i].external) {\n        window.open(\n          this.suggestions[i].path + this.suggestions[i].slug,\n          \"_blank\"\n        );\n      } else {\n        this.$router.push(this.suggestions[i].path + this.suggestions[i].slug);\n        this.query = \"\";\n        this.focusIndex = 0;\n        this.focused = false;\n\n        // reset query param\n        const params = this.urlParams();\n        if (params) {\n          params.delete(\"query\");\n          const paramsString = params.toString();\n          const newState =\n            window.location.pathname + (paramsString ? `?${paramsString}` : \"\");\n          history.pushState(null, \"\", newState);\n        }\n      }\n    },\n    focus(i) {\n      this.focusIndex = i;\n    },\n    unfocus() {\n      this.focusIndex = -1;\n    },\n    urlParams() {\n      if (!window.location.search) {\n        return null;\n      }\n      return new URLSearchParams(window.location.search);\n    },\n    expandSearchInput() {\n      this.$refs.input.focus();\n      this.focused = true;\n    },\n  },\n};\n\nfunction highlight(str, strHighlight) {\n  if (!str) return {};\n  if (!strHighlight) return { prefix: str };\n  const [start, length] = strHighlight;\n  const end = start + length;\n\n  const prefix = str.slice(0, start);\n  const highlightedContent = str.slice(start, end);\n  const suffix = str.slice(end);\n  return { prefix, highlightedContent, suffix };\n\n  // return `${prefix}<span class=\"highlight\">${highlightedContent}</span>${suffix}`\n}\n</script>\n\n<style lang=\"stylus\">\n.search-box {\n  display: inline-block;\n  position: relative;\n  margin-right: 1rem;\n\n  input {\n    background-color: var(--vp-c-bg);\n    transition: background-color 0.5s;\n    cursor: text;\n    width: 10rem;\n    height: 2rem;\n    color: lighten($textColor, 25%);\n    display: inline-block;\n    border: none;\n    font-size: 0.9rem;\n    line-height: 2rem;\n    padding: 0 0.5rem 0 2rem;\n    outline: none;\n    transition: all 0.2s ease;\n    background-size: 1.2rem;\n\n    &::placeholder {\n      transition: color 0.2s ease;\n    }\n\n    &:focus {\n      cursor: auto;\n      border-color: var(--c-brand);\n\n      &::placeholder {\n        color: var(--c-brand);\n      }\n\n      &~ .search-icon {\n        color: var(--c-brand);\n      }\n    }\n\n    &.focused {\n      // border-bottom: 1px solid darken(var(--vp-c-divider-light), 10%);\n      // border: 1px solid darken(var(--vp-c-divider-light), 10%);\n      // border-radius: 1rem;\n    }\n  }\n\n  .search-icon {\n    color: var(--vp-c-text-2);\n    transition: color 0.5s;\n    fill: currentColor;\n    width: 20px;\n    height: 20px;\n    position: relative;\n    position: absolute;\n    top: 5px;\n    left: 3px;\n    margin-right: 10px;\n    cursor: pointer;\n  }\n\n  .search-command {\n    margin-right: 1rem;\n  }\n\n  .suggestions {\n    background-color: var(--vp-c-bg);\n    min-width: 500px;\n    max-width: 700px;\n    max-height: 600px;\n    position: absolute;\n    top: 2rem;\n    box-shadow: var(--vp-shadow-3);\n    border-radius: 6px;\n    padding: 0.4rem;\n    list-style-type: none;\n    overflow: scroll;\n\n    &.align-right {\n      right: 0;\n    }\n  }\n\n  .suggestion {\n    letter-spacing: 0.2px;\n    line-height: 1.4;\n    // padding 0.4rem 0.6rem\n    border-radius: 4px;\n    cursor: pointer;\n    width: 100%;\n\n    a {\n      display: block;\n      white-space: normal;\n      color: $textColor;\n      width: 100%;\n\n      .parent-page-title {\n        color: white;\n        font-weight: 600;\n        background-color: var(--c-brand);\n        padding: 5px;\n      }\n\n      .suggestion-row {\n        border-collapse: collapse;\n        width: 100%;\n        display: table;\n\n        .page-title {\n          font-size: rem;\n          width: 35%;\n          border: 1px solid $borderColor;\n          background: #f5f5f5;\n          border-left: none;\n          display: table-cell;\n          text-align: right;\n          padding: 5px;\n          font-weight: bolder;\n        }\n\n        .suggestion-content {\n          .highlight {\n            color: #000;\n            margin: 0 3px;\n            padding: 0 3px;\n            border-radius: 3px;\n            background: rgba(59, 72, 206, 0.2);\n          }\n\n          border: 1px solid $borderColor;\n          font-weight: 400;\n          border-right: none;\n          width: 65%;\n          display: table-cell;\n          padding: 10px;\n\n          .header {\n            font-weight: 600;\n          }\n        }\n      }\n    }\n\n    &.focused {\n      background-color: #f3f4f5;\n    }\n  }\n}\n\n.dark .search-box .suggestions {\n  background: #fff;\n}\n\n@media (max-width: $MQNarrow) {\n  .search-box {\n    input {\n      cursor: pointer;\n      width: 0;\n      border-color: transparent;\n      position: relative;\n\n      &:focus {\n        cursor: text;\n        left: 0;\n        width: 10rem;\n      }\n    }\n\n    .suggestions {\n      background-color: ar(--vp-c-bg);\n      min-width: 100vw;\n      max-width: 100vw;\n    }\n\n    .search-command {\n      display: none !important;\n    }\n  }\n}\n\n// Match IE11\n@media all and (-ms-high-contrast: none) {\n  .search-box input {\n    height: 2rem;\n  }\n}\n\n@media (max-width: $MQNarrow) and (min-width: $MQMobile) {\n  .search-box {\n    .suggestions {\n      left: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobile) {\n  .search-box {\n    margin-right: 0;\n\n    input {\n      left: 1rem;\n    }\n\n    .suggestions {\n      right: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobileNarrow) {\n  .search-box {\n    .suggestions {\n      width: calc(100vw - 4rem);\n    }\n\n    input:focus {\n      width: 8rem;\n    }\n  }\n}\n</style>\n"]}]}